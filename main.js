(()=>{"use strict";const e=document.getElementById("space");function t(n){const a=document.createElement("div");a.classList.add("form-container");const o=document.createElement("form");o.id="newTaskForm",o.classList.add("popup-form","needs-validation"),o.setAttribute("novalidate","");const l=document.createElement("label");l.textContent="Title:",l.className="form-label",l.htmlFor="projectTitle";const c=document.createElement("input");c.type="text",c.className="form-control",c.id="projectTitle",c.name="title",c.required=!0,c.style.height="50px";const d=document.createElement("label");d.textContent="Description:",d.className="form-label",d.htmlFor="projectDescription";const r=document.createElement("textarea");r.className="form-control",r.id="projectDescription",r.name="description",r.maxLength=40,r.required=!0;const i=document.createElement("label");i.textContent="Due Date:",i.className="form-label",i.htmlFor="projectDueDate";const m=document.createElement("input");m.type="date",m.className="form-control",m.id="projectDueDate",m.name="dueDate",m.style.height="50px",m.required=!0;const p=document.createElement("label");p.textContent="Priority:",p.className="form-label",p.htmlFor="projectPriority";const u=document.createElement("select");u.className="form-select",u.id="projectPriority",u.name="priority",u.required=!0,u.style.height="50px",["Low","Medium","High"].forEach((e=>{const t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,u.appendChild(t)}));const h=document.createElement("button");h.type="submit",h.textContent="Create Project",h.className="btn btn-success mt-3";const y=document.createElement("button");return y.type="button",y.textContent="Cancel",y.className="btn btn-danger mt-3 ms-2",y.addEventListener("click",(()=>{a.style.display="none"})),o.appendChild(l),o.appendChild(c),o.appendChild(d),o.appendChild(r),o.appendChild(i),o.appendChild(m),o.appendChild(p),o.appendChild(u),o.appendChild(h),o.appendChild(y),a.appendChild(o),o.addEventListener("submit",(e=>{if(e.preventDefault(),!m.value)return void m.classList.add("is-invalid");m.classList.remove("is-invalid");const o=c.value,l=r.value,d=m.value,i=u.value,p=new t(o,l,function(e){const[t,n,a]=e.split("-");return`${new Date(t,n-1,a).toLocaleDateString("en-US",{weekday:"long"})}, ${a}/${n}/${t}`}(d),i,!1);n.push(p),s.prototype.displayer(n),a.style.display="none"})),e.append(a),a}function n(e){const n=document.getElementById("space");e.forEach(((a,o)=>{const l=a.title,s=a.description,c=a.dueDate,d=a.priority,r=(a.isCompleted,document.createElement("div"));r.className="card task-card mb-3",r.setAttribute("data-index",o);const i=document.createElement("div");i.className="row no-gutters";const m=document.createElement("div");switch(m.className="priority-bar",d.toLowerCase()){case"low":m.style.backgroundColor="#28a745";break;case"medium":m.style.backgroundColor="#ffc107";break;case"high":m.style.backgroundColor="#dc3545";break;default:m.style.backgroundColor="#6c757d"}const p=document.createElement("div");p.className="col-md-2 w-100 d-flex align-items-center justify-content-center text-white position-relative",p.id="titleContainer";const u=document.createElement("h2");u.className="card-title",u.textContent=l,p.style.backgroundColor=m.style.backgroundColor,p.appendChild(m),p.appendChild(u);const h=document.createElement("div");h.className="label-container d-flex justify-content-between";const y=document.createElement("span");y.className="label",y.innerHTML='<small class="text-muted"><i class="fa-solid fa-note-sticky"></i> Description</small>',y.id="descriptionLabelTask";const C=document.createElement("span");C.className="label",C.innerHTML='<small class="text-muted"><i class="fas fa-calendar-day"></i> Due Date</small>';const E=document.createElement("span");E.className="label",E.innerHTML='<small class="text-muted"><i class="fas fa-flag"></i> Priority</small>',h.appendChild(y),h.appendChild(C),h.appendChild(E),p.appendChild(h);const g=document.createElement("div");g.className="element-container d-flex align-items-center",g.id="elementContainer";const f=document.createElement("span");f.className="col-8 card-text description",f.textContent=s,f.id="carddescription";const b=document.createElement("button");b.classList.add("btn","btn-outline-primary","view-button","d-lg-none","d-md-none"),b.id="viewDescription",b.innerHTML='<i class="fa-solid fa-eye"></i>';let k=!0;b.addEventListener("click",(()=>{f.classList.toggle("d-none"),k?(b.innerHTML='<i class="fa-solid fa-eye"></i>',f.style.display="none",j.style.display="flex",v.style.display="flex"):(f.style.display="flex",j.style.display="none",v.style.display="none",b.innerHTML='<i class="fa-solid fa-eye-slash"></i>'),k=!k}));const v=document.createElement("p");v.className="card-text priority",v.innerHTML=`<small class="text-muted"><i class="fas fa-flag"></i> ${d}</small>`;const j=document.createElement("p");j.className="card-text",j.innerHTML=`<small class="text-muted">\n    <i class="fas fa-calendar-day"></i> ${c}</small>`,j.setAttribute("required",!0);const x=document.createElement("div");x.className="card-body",x.appendChild(g);const N=document.createElement("div");N.className="d-flex align-items-center p-2",N.id="buttonContainer";const T=document.createElement("div");T.style.margin="10px";const L=document.createElement("button");L.className="btn btn-warning btn-sm m-2",L.id="editBtnOfTask",L.innerHTML='<i class="fas fa-edit"></i> Edit';const P=document.createElement("button");P.className="btn btn-danger btn-sm",P.id="deletebtnOfTask",P.innerHTML='<i class="fas fa-trash"></i> Delete',N.style.padding="10px";const w=document.createElement("span");w.className="checkbox-span",w.style.margin="10px",w.id="checkBoxSpanOfTask";const D=document.createElement("input");D.type="checkbox",D.className="form-check-input form-check-input-lg",D.ariaLabel="Task Complete";const M=document.createElement("span");M.className="status-text",g.appendChild(f),g.appendChild(b),g.appendChild(j),g.appendChild(v),w.appendChild(D),w.appendChild(M),N.appendChild(w),T.appendChild(L),T.appendChild(P),N.appendChild(T),i.appendChild(p),i.appendChild(x),i.appendChild(N),r.appendChild(i),n.appendChild(r),L.addEventListener("click",(()=>{t.prototype.editTask(a,e)})),a.isCompleted?(D.checked=!0,M.textContent="Completed",w.style.backgroundColor="green",i.style.backgroundColor="lightgrey",D.style.color="white",w.style.padding="15px"):(D.checked=!1,M.textContent="Incomplete",w.style.backgroundColor="lightgrey",w.style.padding="15px",i.style.backgroundColor="white"),D.addEventListener("change",(()=>{D.checked?(M.textContent="Completed",w.style.backgroundColor="green",i.style.backgroundColor="lightgrey",D.style.color="white",w.style.padding="15px",t.prototype.statusChange(a,!0)):(M.textContent="Incomplete",w.style.backgroundColor="lightgrey",w.style.padding="15px",i.style.backgroundColor="white",t.prototype.statusChange(a,!1))})),P.addEventListener("click",(()=>{t.prototype.deleteTask(e,o,a)}))}))}const a=document.getElementById("space");function o(e){const n=document.createElement("div");n.classList.add("form-container");const o=document.createElement("form");o.id="newTaskForm",o.classList.add("popup-form","needs-validation"),o.setAttribute("novalidate","");const l=document.createElement("label");l.textContent="Title:",l.className="form-label",l.htmlFor="projectTitle";const c=document.createElement("input");c.type="text",c.className="form-control",c.id="projectTitle",c.name="title",c.required=!0,c.style.height="50px";const d=document.createElement("label");d.textContent="Description:",d.className="form-label",d.htmlFor="projectDescription";const r=document.createElement("textarea");r.className="form-control",r.id="projectDescription",r.name="description",r.maxLength=40,r.required=!0;const i=document.createElement("label");i.textContent="Due Date:",i.className="form-label",i.htmlFor="projectDueDate";const m=document.createElement("input");m.type="date",m.className="form-control",m.id="projectDueDate",m.name="dueDate",m.style.height="50px",m.required=!0;const p=document.createElement("label");p.textContent="Priority:",p.className="form-label",p.htmlFor="projectPriority";const u=document.createElement("select");u.className="form-select",u.id="projectPriority",u.name="priority",u.required=!0,u.style.height="50px",["Low","Medium","High"].forEach((e=>{const t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,u.appendChild(t)}));const h=document.createElement("button");h.type="submit",h.textContent="Create Project",h.className="btn btn-success mt-3";const y=document.createElement("button");return y.type="button",y.textContent="Cancel",y.className="btn btn-danger mt-3 ms-2",y.addEventListener("click",(()=>{n.style.display="none"})),o.appendChild(l),o.appendChild(c),o.appendChild(d),o.appendChild(r),o.appendChild(i),o.appendChild(m),o.appendChild(p),o.appendChild(u),o.appendChild(h),o.appendChild(y),n.appendChild(o),o.addEventListener("submit",(a=>{if(a.preventDefault(),!m.value)return void m.classList.add("is-invalid");m.classList.remove("is-invalid");const o=c.value,l=r.value,d=m.value,i=u.value,p=new t(o,l,function(e){const[t,n,a]=e.split("-");return`${new Date(t,n-1,a).toLocaleDateString("en-US",{weekday:"long"})}, ${a}/${n}/${t}`}(d),i,!1);e.push(p),s.prototype.displayer(e),n.style.display="none"})),a.append(n),n}const l=document.getElementById("space");document.getElementById("title");class s{constructor(e,t,n){this.id=e,this.name=t,this.color=n,this.project=[]}simpleDisplayer(e){n(e)}displayer(e){l.innerHTML="",n(e),this.dom(),o(e),this.newTaskFormBtn(e)}newTaskFormBtn(e){document.getElementById("addTaskButton").addEventListener("click",(()=>{const t=o(e);l.append(t),t.style.display="block"}))}dom(){const e=document.createElement("button");e.textContent="Add Task",e.id="addTaskButton",e.className="btn btn-secondary",e.style.width="100%",l.append(e)}}document.getElementById("taskSpace");const c=document.getElementById("space"),d=function(){const e=document.createElement("div");e.className="modal";const t=document.createElement("div");t.className="modal-content";const n=document.createElement("div");n.className="modal-header";const a=document.createElement("h2");a.textContent="New Project",n.appendChild(a);const o=document.createElement("span");o.className="close",o.textContent="Ã—",n.appendChild(o);const l=document.createElement("div");l.className="modal-body";const s=document.createElement("label");s.textContent="Project Name:";const d=document.createElement("input");d.type="text",d.id="projectName",d.className="form-control",l.appendChild(s),l.appendChild(d);const r=document.createElement("label");r.textContent="Color:";const i=document.createElement("select");i.id="projectColor",i.className="form-control",["None","Red","Green","Blue","Pink","Yellow","Brown"].forEach((e=>{const t=document.createElement("option");t.textContent=e,i.appendChild(t)})),l.appendChild(r),l.appendChild(i);const m=document.createElement("button");m.className="btn btn-primary mt-2",m.id="saveBtnNewProject",m.textContent="Create Folder",l.appendChild(m);const p=document.createElement("button");function u(){e.style.display="none"}return p.type="button",p.textContent="Cancel",p.className="btn btn-danger mt-2 ms-2",p.addEventListener("click",(()=>{e.style.display="none"})),l.appendChild(p),t.appendChild(n),t.appendChild(l),e.appendChild(t),o.addEventListener("click",(()=>{e.style.display="none"})),m.addEventListener("click",(()=>{d.value,i.value,u()})),{openModal:function(){e.style.display="block",c.append(e),d.value="",i.selectedIndex=0},closeModal:u,saveButton:m,nameInput:d,colorSelect:i}}();document.getElementById("taskSpace");const r=document.getElementById("space"),i=document.getElementById("title"),m=new class{constructor(){this.allProjectFolder=[],this.loadProjects(),0===this.allProjectFolder.length&&this.userData()}userData(){const e=document.getElementById("nameForm");e.style.display="block";const t=JSON.parse(localStorage.getItem("userName"))||"User";localStorage.setItem("userName",JSON.stringify(t)),document.getElementById("navUserName"),e.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("userName").value;n?(localStorage.setItem("userName",JSON.stringify(n)),console.log("Name saved:",n),this.addNewProject(0,"Default","black"),e.style.display="none",this.displayer()):(console.log("User name is empty."),document.getElementById("errorMessage").textContent="Name cannot be empty.")}))}homePage(){r.style.backgroundColor="#cedbe9",i.innerHTML="Home",this.displayer()}allTodos(){r.innerHTML="",i.innerText="All Todos",this.allProjectFolder.forEach((e=>{const t=e.project;""===t&&(r.innerHTML="<h4>No Task Found</h4>"),s.prototype.simpleDisplayer(t)}))}completedTask(){r.innerHTML="",i.innerText="Completed Tasks";let e=!1;this.allProjectFolder.forEach((t=>{t.project.forEach((t=>{t.isCompleted&&(e=!0,s.prototype.simpleDisplayer([t]))}))})),e||(r.innerHTML="<h4>No Completed Task Found</h4>")}pendingTodo(){r.innerHTML="",i.innerText="Pending Tasks";const e=new Date,t=[];this.allProjectFolder.forEach((n=>{n.project.forEach((n=>{const a=new Date(n.dueDate);!1===n.isCompleted&&e<=a&&t.push(n)}))})),t.length>0?t.forEach((e=>{s.prototype.simpleDisplayer([e])})):r.innerHTML="<h4>No Pending Tasks Found</h4>"}todayTodos(){const e=(new Date).toLocaleDateString("en-GB",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"});r.innerHTML="",i.innerText="Today Tasks",this.allProjectFolder.forEach((t=>{t.project.forEach((t=>{t.dueDate===e&&s.prototype.simpleDisplayer([t])}))}))}missedTasks(){r.innerHTML="",i.innerText="Missed Tasks";const e=new Date,t=[];this.allProjectFolder.forEach((n=>{n.project.forEach((n=>{const a=new Date(n.dueDate);!1===n.isCompleted&&e>a&&(t.push(n),i.style.backgroundColor="red")}))})),t.length>0?t.forEach((e=>{s.prototype.simpleDisplayer([e])})):r.innerHTML="<h4>No Missed Tasks Found</h4>"}loadProjects(){this.allProjectFolder=function(){const e=localStorage.getItem("projects");return e?JSON.parse(e):[]}()}saveProjects(){var e;e=this.allProjectFolder,localStorage.setItem("projects",JSON.stringify(e))}addNewProject(e,t,n){const a=new s(e,t,n);return this.allProjectFolder.push(a),this.saveProjects(),a}deleteProject(e){confirm("Are you sure you want to delete this Task?")&&(this.allProjectFolder.splice(e,1),this.saveProjects(),this.projectPageandSideBarDOM(this.allProjectFolder),this.newProjectBtn())}displayer(){r.innerHTML="",i.innerHTML="Home",navUserName.textContent=JSON.parse(localStorage.getItem("userName")),r.style.backgroundColor="",this.projectPageandSideBarDOM(this.allProjectFolder),this.newProjectBtn(),this.newProjectForm(this.allProjectFolder),this.footer()}newProjectBtn(){const e=document.createElement("button");e.textContent="Add Project",e.id="addProject",e.className="btn btn-primary createNewProject",e.style.width="100%",r.append(e),document.querySelectorAll(".createNewProject").forEach((e=>{e.addEventListener("click",(()=>{d.openModal()}))}))}newProjectForm(e){d.saveButton.addEventListener("click",(()=>{const t=d.nameInput.value,n=d.colorSelect.value,a=this.allProjectFolder.length+1;this.allProjectFolder.find((e=>e.name===t))?alert("A project with this name already exists."):(this.addNewProject(a,t,n),this.projectPageandSideBarDOM(e),d.closeModal(),this.newProjectBtn())}))}getSelectedProjectArray(e){return s.prototype.simpleDisplayer(e),this.saveProjects(),e}refresher(e){s.prototype.simpleDisplayer(e),this.saveProjects()}projectPageandSideBarDOM(e){const t=document.getElementById("newProjectUL");t.innerHTML="",r.innerHTML="",i.innerText="My Projects",e.forEach(((e,n)=>{const a=document.createElement("li");a.className="list-group-item",a.id="projectFolder",a.setAttribute("data-index",n);const o=document.createElement("i");o.className="fa-solid fa-folder project-icon",o.style.color=e.color;const l=document.createElement("span");l.className="project-name",l.textContent=e.name,a.append(o),a.append(l),a.style.backgroundColor="White",a.addEventListener("click",(()=>{let t=e.project;s.prototype.displayer(t),i.innerText=e.name})),t.append(a);const c=document.createElement("li");c.className="project-card",c.setAttribute("data-index",n);const d=document.createElement("i");d.className="fa-solid fa-folder project-card-icon",d.style.color=e.color,c.append(d);const m=document.createElement("span");m.className="project-card-title",m.innerText=e.name,c.append(m);const p=document.createElement("i");p.className="fa-solid fa-trash delete-icon",p.id="deleteProject",p.style.padding="5px",p.addEventListener("click",(e=>{e.stopPropagation();const t=parseInt(c.getAttribute("data-index"));this.deleteProject(t)})),c.appendChild(p),r.append(c),c.addEventListener("click",(()=>{let t=e.project;s.prototype.displayer(t),i.innerText=e.name}))}))}footer(){const e=document.createElement("footer");e.innerHTML="&copy; 2024 by Mo_Mansur ";const t=document.createElement("a");t.href="https://github.com/MoMansur",t.className="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover";const n=document.createTextNode(" Mo_Mansur GitHub");t.appendChild(n),e.appendChild(t);const a=document.createTextNode(". All rights reserved.");e.appendChild(a),e.style.textAlign="center",r.appendChild(e)}};m.allProjectFolder.length>=1&&m.displayer();const p=document.getElementById("taskSpace"),u=document.querySelectorAll(".allTodos"),h=document.querySelectorAll(".TodayTodos"),y=document.querySelectorAll(".CompletedTodo"),C=document.querySelectorAll(".UpcomingTodo"),E=document.querySelectorAll(".MissedTodo"),g=document.querySelectorAll(".homePage"),f=document.getElementById("sidebarContainer"),b=document.getElementById("sidebarIcon"),k=document.getElementById("mainSpaceCol"),v=document.getElementById("navMenuRow");g.forEach((e=>e.addEventListener("click",(()=>{m.homePage(),m.saveProjects()})))),u.forEach((e=>e.addEventListener("click",(()=>{m.allTodos(),m.saveProjects()})))),h.forEach((e=>e.addEventListener("click",(()=>{console.log("Today item clicked"),m.todayTodos(),m.saveProjects()})))),y.forEach((e=>e.addEventListener("click",(()=>{m.completedTask(),m.saveProjects()})))),C.forEach((e=>e.addEventListener("click",(()=>{m.pendingTodo()})))),E.forEach((e=>e.addEventListener("click",(()=>{m.missedTasks()}))));let j=!0;b.addEventListener("click",(()=>{j?(f.style.display="none",k.className="col-12",v.style.display="block",p.style.padding="10px"):(f.style.display="block",k.className="col-10",v.style.display="none"),j=!j}))})();
//# sourceMappingURL=main.js.map